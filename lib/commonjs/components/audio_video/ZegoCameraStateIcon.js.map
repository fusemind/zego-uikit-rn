{"version":3,"names":["ZegoCameraStateIcon","props","userID","iconCameraOn","iconCameraOff","isOn","setIsOn","useState","getImageSourceByPath","pathOn","require","pathOff","useEffect","ZegoUIKitInternal","isCameraDeviceOn","callbackID","String","Math","floor","random","onSDKConnected","onCameraDeviceOn","id","on","undefined","getLocalUserInfo"],"sources":["ZegoCameraStateIcon.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Image, View } from \"react-native\";\nimport ZegoUIKitInternal from \"../internal/ZegoUIKitInternal\";\n\nexport default function ZegoCameraStateIcon(props) {\n    const { userID, iconCameraOn, iconCameraOff } = props;\n    const [isOn, setIsOn] = useState(true);// Default on\n    const getImageSourceByPath = () => {\n        const pathOn = iconCameraOn ? iconCameraOn : require(\"../internal/resources/white_icon_video_camera_on.png\");\n        const pathOff = iconCameraOff ? iconCameraOff : require(\"../internal/resources/white_icon_video_camera_off.png\");\n        return isOn ? pathOn : pathOff\n    }\n    \n    useEffect(() => {\n        setIsOn(ZegoUIKitInternal.isCameraDeviceOn(userID));\n    });\n    useEffect(() => {\n        const callbackID = 'ZegoCameraStateIcon' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKitInternal.onSDKConnected(callbackID, () => {\n            setIsOn(ZegoUIKitInternal.isCameraDeviceOn(userID))\n        });\n        ZegoUIKitInternal.onCameraDeviceOn(callbackID, (id, on) => {\n            if (userID === undefined || userID === '') { // local user\n                if (id == ZegoUIKitInternal.getLocalUserInfo().userID) {\n                    setIsOn(on);\n                }\n            }\n            else if (id == userID) {\n                setIsOn(on);\n            }\n        });\n        return () => {\n            ZegoUIKitInternal.onSDKConnected(callbackID);\n            ZegoUIKitInternal.onCameraDeviceOn(callbackID);\n        }\n    }, []);\n\n    return (<View>\n        <Image source={getImageSourceByPath()} />\n    </View>)\n}"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEe,SAASA,mBAAT,CAA6BC,KAA7B,EAAoC;EAC/C,MAAM;IAAEC,MAAF;IAAUC,YAAV;IAAwBC;EAAxB,IAA0CH,KAAhD;EACA,MAAM,CAACI,IAAD,EAAOC,OAAP,IAAkB,IAAAC,eAAA,EAAS,IAAT,CAAxB,CAF+C,CAER;;EACvC,MAAMC,oBAAoB,GAAG,MAAM;IAC/B,MAAMC,MAAM,GAAGN,YAAY,GAAGA,YAAH,GAAkBO,OAAO,CAAC,sDAAD,CAApD;IACA,MAAMC,OAAO,GAAGP,aAAa,GAAGA,aAAH,GAAmBM,OAAO,CAAC,uDAAD,CAAvD;IACA,OAAOL,IAAI,GAAGI,MAAH,GAAYE,OAAvB;EACH,CAJD;;EAMA,IAAAC,gBAAA,EAAU,MAAM;IACZN,OAAO,CAACO,0BAAA,CAAkBC,gBAAlB,CAAmCZ,MAAnC,CAAD,CAAP;EACH,CAFD;EAGA,IAAAU,gBAAA,EAAU,MAAM;IACZ,MAAMG,UAAU,GAAG,wBAAwBC,MAAM,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAA3B,CAAD,CAAjD;;IACAN,0BAAA,CAAkBO,cAAlB,CAAiCL,UAAjC,EAA6C,MAAM;MAC/CT,OAAO,CAACO,0BAAA,CAAkBC,gBAAlB,CAAmCZ,MAAnC,CAAD,CAAP;IACH,CAFD;;IAGAW,0BAAA,CAAkBQ,gBAAlB,CAAmCN,UAAnC,EAA+C,CAACO,EAAD,EAAKC,EAAL,KAAY;MACvD,IAAIrB,MAAM,KAAKsB,SAAX,IAAwBtB,MAAM,KAAK,EAAvC,EAA2C;QAAE;QACzC,IAAIoB,EAAE,IAAIT,0BAAA,CAAkBY,gBAAlB,GAAqCvB,MAA/C,EAAuD;UACnDI,OAAO,CAACiB,EAAD,CAAP;QACH;MACJ,CAJD,MAKK,IAAID,EAAE,IAAIpB,MAAV,EAAkB;QACnBI,OAAO,CAACiB,EAAD,CAAP;MACH;IACJ,CATD;;IAUA,OAAO,MAAM;MACTV,0BAAA,CAAkBO,cAAlB,CAAiCL,UAAjC;;MACAF,0BAAA,CAAkBQ,gBAAlB,CAAmCN,UAAnC;IACH,CAHD;EAIH,CAnBD,EAmBG,EAnBH;EAqBA,oBAAQ,6BAAC,iBAAD,qBACJ,6BAAC,kBAAD;IAAO,MAAM,EAAEP,oBAAoB;EAAnC,EADI,CAAR;AAGH"}