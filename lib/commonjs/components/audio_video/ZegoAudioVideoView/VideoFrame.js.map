{"version":3,"names":["VideoFrame","props","userID","roomID","fillMode","viewRef","useRef","updateRenderingProperty","viewID","findNodeHandle","current","ZegoUIKitInternal","useEffect","onSDKConnected","onUserJoin","userInfoList","forEach","user","styles","container","videoContainer","audioContainer","children","StyleSheet","create","flex","width","height","position","top","left","zIndex"],"sources":["VideoFrame.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { findNodeHandle, View, StyleSheet } from \"react-native\";\nimport { ZegoTextureView } from 'zego-express-engine-reactnative';\nimport ZegoUIKitInternal from \"../../internal/ZegoUIKitInternal\";\n\nexport default function VideoFrame(props) {\n    const { userID, roomID, fillMode } = props;\n    const viewRef = useRef(null);\n\n    const updateRenderingProperty = () => {\n        const viewID = findNodeHandle(viewRef.current);\n        ZegoUIKitInternal.updateRenderingProperty(userID, viewID, fillMode);\n    }\n    useEffect(() => {\n        updateRenderingProperty();\n\n        ZegoUIKitInternal.onSDKConnected('VideoFrame' + userID, () => {\n            updateRenderingProperty();\n        });\n        ZegoUIKitInternal.onUserJoin('VideoFrame' + userID, (userInfoList) => {\n            userInfoList.forEach(user => {\n                if (user.userID == userID) {\n                    updateRenderingProperty()\n                }\n            })\n        });\n        return () => {\n            ZegoUIKitInternal.onSDKConnected('VideoFrame' + userID);\n            ZegoUIKitInternal.onUserJoin('VideoFrame' + userID);\n            ZegoUIKitInternal.updateRenderingProperty(userID, -1, fillMode);\n        }\n    }, []);\n\n    return (\n        <View style={styles.container}>\n            <ZegoTextureView\n                style={styles.videoContainer}\n                ref={viewRef}\n                collapsable={false}\n            />\n            <View style={styles.audioContainer}>\n                {props.children}\n            </View>\n        </View>\n    );\n}\n\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n    },\n    videoContainer: {\n        // flex: 1,\n        width: '100%',\n        height: '100%',\n        top: 0,\n        left: 0,\n        position: 'absolute',\n        zIndex: 1,\n    },\n    audioContainer: {\n        width: '100%',\n        height: '100%',\n        top: 0,\n        left: 0,\n        position: 'absolute',\n        zIndex: 2,\n    }\n});"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAEe,SAASA,UAAT,CAAoBC,KAApB,EAA2B;EACtC,MAAM;IAAEC,MAAF;IAAUC,MAAV;IAAkBC;EAAlB,IAA+BH,KAArC;EACA,MAAMI,OAAO,GAAG,IAAAC,aAAA,EAAO,IAAP,CAAhB;;EAEA,MAAMC,uBAAuB,GAAG,MAAM;IAClC,MAAMC,MAAM,GAAG,IAAAC,2BAAA,EAAeJ,OAAO,CAACK,OAAvB,CAAf;;IACAC,0BAAA,CAAkBJ,uBAAlB,CAA0CL,MAA1C,EAAkDM,MAAlD,EAA0DJ,QAA1D;EACH,CAHD;;EAIA,IAAAQ,gBAAA,EAAU,MAAM;IACZL,uBAAuB;;IAEvBI,0BAAA,CAAkBE,cAAlB,CAAiC,eAAeX,MAAhD,EAAwD,MAAM;MAC1DK,uBAAuB;IAC1B,CAFD;;IAGAI,0BAAA,CAAkBG,UAAlB,CAA6B,eAAeZ,MAA5C,EAAqDa,YAAD,IAAkB;MAClEA,YAAY,CAACC,OAAb,CAAqBC,IAAI,IAAI;QACzB,IAAIA,IAAI,CAACf,MAAL,IAAeA,MAAnB,EAA2B;UACvBK,uBAAuB;QAC1B;MACJ,CAJD;IAKH,CAND;;IAOA,OAAO,MAAM;MACTI,0BAAA,CAAkBE,cAAlB,CAAiC,eAAeX,MAAhD;;MACAS,0BAAA,CAAkBG,UAAlB,CAA6B,eAAeZ,MAA5C;;MACAS,0BAAA,CAAkBJ,uBAAlB,CAA0CL,MAA1C,EAAkD,CAAC,CAAnD,EAAsDE,QAAtD;IACH,CAJD;EAKH,CAlBD,EAkBG,EAlBH;EAoBA,oBACI,6BAAC,iBAAD;IAAM,KAAK,EAAEc,MAAM,CAACC;EAApB,gBACI,6BAAC,6CAAD;IACI,KAAK,EAAED,MAAM,CAACE,cADlB;IAEI,GAAG,EAAEf,OAFT;IAGI,WAAW,EAAE;EAHjB,EADJ,eAMI,6BAAC,iBAAD;IAAM,KAAK,EAAEa,MAAM,CAACG;EAApB,GACKpB,KAAK,CAACqB,QADX,CANJ,CADJ;AAYH;;AAGD,MAAMJ,MAAM,GAAGK,uBAAA,CAAWC,MAAX,CAAkB;EAC7BL,SAAS,EAAE;IACPM,IAAI,EAAE,CADC;IAEPC,KAAK,EAAE,MAFA;IAGPC,MAAM,EAAE,MAHD;IAIPC,QAAQ,EAAE;EAJH,CADkB;EAO7BR,cAAc,EAAE;IACZ;IACAM,KAAK,EAAE,MAFK;IAGZC,MAAM,EAAE,MAHI;IAIZE,GAAG,EAAE,CAJO;IAKZC,IAAI,EAAE,CALM;IAMZF,QAAQ,EAAE,UANE;IAOZG,MAAM,EAAE;EAPI,CAPa;EAgB7BV,cAAc,EAAE;IACZK,KAAK,EAAE,MADK;IAEZC,MAAM,EAAE,MAFI;IAGZE,GAAG,EAAE,CAHO;IAIZC,IAAI,EAAE,CAJM;IAKZF,QAAQ,EAAE,UALE;IAMZG,MAAM,EAAE;EANI;AAhBa,CAAlB,CAAf"}