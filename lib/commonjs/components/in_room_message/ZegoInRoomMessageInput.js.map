{"version":3,"names":["ZegoInRoomMessageInput","React","Component","constructor","props","textInput","createRef","state","textInputHeight","contentWidth","currentText","iconPath","enable","iconSend","require","disable","iconSendDisable","focus","current","blur","clear","setState","onContentSizeChange","_sumit","ZegoUIKitInternal","sendInRoomMessage","onSumit","render","styles","container","height","backgroundColor","textInputContainer","fillParent","placeholder","nativeEvent","contentSize","width","h","Platform","OS","text","sendButton","icon","StyleSheet","create","position","right","bottom","justifyContent","alignItems","color","paddingTop","paddingBottom","marginLeft","paddingRight","borderTopLeftRadius","borderTopRightRadius"],"sources":["ZegoInRoomMessageInput.js"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, View, TextInput, Image, TouchableOpacity, Platform } from 'react-native';\nimport ZegoUIKitInternal from '../internal/ZegoUIKitInternal';\n\n// https://github.com/react-native-community/hooks#usekeyboard\nclass ZegoInRoomMessageInput extends React.Component {\n    constructor(props) {\n        super(props);\n        this.textInput = React.createRef();\n        this.state = {\n            textInputHeight: 45,\n            contentWidth: 0,\n            currentText: \"\"\n        };\n        this.iconPath = {\n            enable: this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_enable.png'),\n            disable: this.props.iconSendDisable ? this.props.iconSendDisable : (this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_disable.png'))\n        }\n    }\n\n    focus() {\n        this.textInput.current.focus();\n    }\n    blur() {\n        this.textInput.current.blur();\n    }\n    clear() {\n        this.textInput.current.clear();\n        this.setState({ textInputHeight: 45, contentWidth: 0, currentText: \"\" })\n        if (typeof this.props.onContentSizeChange == 'function') {\n            this.props.onContentSizeChange(0, 45);\n        }\n    }\n    _sumit() {\n        if (this.state.currentText != '') {\n            ZegoUIKitInternal.sendInRoomMessage(this.state.currentText);\n            this.clear();\n            this.blur();\n            if (typeof this.props.onSumit == 'function') {\n                this.props.onSumit();\n            }\n        }\n    }\n\n    render() {\n        return (\n            <View style={[styles.container, { height: this.state.textInputHeight, backgroundColor: this.props.backgroundColor ? this.props.backgroundColor : 'rgba(0, 0, 0, 0.7500)' }]} >\n                <View style={styles.textInputContainer}>\n                    <TextInput\n                        ref={this.textInput}\n                        style={[styles.fillParent, styles.textInput]}\n                        blurOnSubmit={true}\n                        multiline={true}\n                        autoFocus={true}\n                        editable={this.props.enable ? this.props.enable : true}\n                        selectionColor={'#A653FF'}\n                        placeholder={this.props.placeholder ? this.props.placeholder : ''}\n                        placeholderTextColor={'rgba(255, 255, 255, 0.2)'}\n                        onContentSizeChange={({ nativeEvent: { contentSize: { width, height } } }) => {\n                            var h = height;\n                            // https://github.com/facebook/react-native/issues/29702\n                            if (Platform.OS == 'ios') {\n                                h = height + 25;\n                            }\n                            this.setState({ textInputHeight: h, contentWidth: width })\n                            if (typeof this.props.onContentSizeChange == 'function') {\n                                this.props.onContentSizeChange(width, h);\n                            }\n                        }}\n                        onChangeText={(text) => { this.setState({ currentText: text }); }}\n                        onSubmitEditing={() => this._sumit()}\n                    />\n                </View>\n                <TouchableOpacity\n                    style={styles.sendButton}\n                    onPress={() => {\n                        this._sumit();\n                    }}\n                >\n                    <Image resizeMode='contain' style={styles.icon} source={(this.state.currentText && this.state.currentText != \"\") ? this.iconPath.enable : this.iconPath.disable} />\n                </TouchableOpacity>\n            </View>\n        );\n    }\n}\nexport default ZegoInRoomMessageInput;\n\nconst styles = StyleSheet.create({\n    sendButton: {\n        position: 'absolute',\n        right: 10,\n        bottom: 8,\n        width: 29,\n        height: 29,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    icon: {\n        position: 'absolute',\n        width: '100%',\n        height: '100%'\n    },\n    textInput: {\n        color: 'white',\n        paddingTop: 12.5,\n        paddingBottom: 12.5,\n    },\n    textInputContainer: {\n        marginLeft: 15,\n        paddingRight: 59,\n        height: '100%',\n        width: '100%',\n    },\n    container: {\n        position: 'absolute',\n        borderTopLeftRadius: 12,\n        borderTopRightRadius: 12,\n        width: '100%'\n    }\n\n});\n"],"mappings":"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"}