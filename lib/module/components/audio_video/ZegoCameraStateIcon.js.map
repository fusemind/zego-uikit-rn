{"version":3,"names":["React","useState","useEffect","Image","View","ZegoUIKitInternal","ZegoCameraStateIcon","props","userID","iconCameraOn","iconCameraOff","isOn","setIsOn","getImageSourceByPath","pathOn","require","pathOff","isCameraDeviceOn","callbackID","String","Math","floor","random","onSDKConnected","onCameraDeviceOn","id","on","undefined","getLocalUserInfo"],"sources":["ZegoCameraStateIcon.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Image, View } from \"react-native\";\nimport ZegoUIKitInternal from \"../internal/ZegoUIKitInternal\";\n\nexport default function ZegoCameraStateIcon(props) {\n    const { userID, iconCameraOn, iconCameraOff } = props;\n    const [isOn, setIsOn] = useState(true);// Default on\n    const getImageSourceByPath = () => {\n        const pathOn = iconCameraOn ? iconCameraOn : require(\"../internal/resources/white_icon_video_camera_on.png\");\n        const pathOff = iconCameraOff ? iconCameraOff : require(\"../internal/resources/white_icon_video_camera_off.png\");\n        return isOn ? pathOn : pathOff\n    }\n    \n    useEffect(() => {\n        setIsOn(ZegoUIKitInternal.isCameraDeviceOn(userID));\n    });\n    useEffect(() => {\n        const callbackID = 'ZegoCameraStateIcon' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKitInternal.onSDKConnected(callbackID, () => {\n            setIsOn(ZegoUIKitInternal.isCameraDeviceOn(userID))\n        });\n        ZegoUIKitInternal.onCameraDeviceOn(callbackID, (id, on) => {\n            if (userID === undefined || userID === '') { // local user\n                if (id == ZegoUIKitInternal.getLocalUserInfo().userID) {\n                    setIsOn(on);\n                }\n            }\n            else if (id == userID) {\n                setIsOn(on);\n            }\n        });\n        return () => {\n            ZegoUIKitInternal.onSDKConnected(callbackID);\n            ZegoUIKitInternal.onCameraDeviceOn(callbackID);\n        }\n    }, []);\n\n    return (<View>\n        <Image source={getImageSourceByPath()} />\n    </View>)\n}"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,KAAT,EAAgBC,IAAhB,QAA4B,cAA5B;AACA,OAAOC,iBAAP,MAA8B,+BAA9B;AAEA,eAAe,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;EAC/C,MAAM;IAAEC,MAAF;IAAUC,YAAV;IAAwBC;EAAxB,IAA0CH,KAAhD;EACA,MAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,IAAD,CAAhC,CAF+C,CAER;;EACvC,MAAMY,oBAAoB,GAAG,MAAM;IAC/B,MAAMC,MAAM,GAAGL,YAAY,GAAGA,YAAH,GAAkBM,OAAO,CAAC,sDAAD,CAApD;IACA,MAAMC,OAAO,GAAGN,aAAa,GAAGA,aAAH,GAAmBK,OAAO,CAAC,uDAAD,CAAvD;IACA,OAAOJ,IAAI,GAAGG,MAAH,GAAYE,OAAvB;EACH,CAJD;;EAMAd,SAAS,CAAC,MAAM;IACZU,OAAO,CAACP,iBAAiB,CAACY,gBAAlB,CAAmCT,MAAnC,CAAD,CAAP;EACH,CAFQ,CAAT;EAGAN,SAAS,CAAC,MAAM;IACZ,MAAMgB,UAAU,GAAG,wBAAwBC,MAAM,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAA3B,CAAD,CAAjD;IACAjB,iBAAiB,CAACkB,cAAlB,CAAiCL,UAAjC,EAA6C,MAAM;MAC/CN,OAAO,CAACP,iBAAiB,CAACY,gBAAlB,CAAmCT,MAAnC,CAAD,CAAP;IACH,CAFD;IAGAH,iBAAiB,CAACmB,gBAAlB,CAAmCN,UAAnC,EAA+C,CAACO,EAAD,EAAKC,EAAL,KAAY;MACvD,IAAIlB,MAAM,KAAKmB,SAAX,IAAwBnB,MAAM,KAAK,EAAvC,EAA2C;QAAE;QACzC,IAAIiB,EAAE,IAAIpB,iBAAiB,CAACuB,gBAAlB,GAAqCpB,MAA/C,EAAuD;UACnDI,OAAO,CAACc,EAAD,CAAP;QACH;MACJ,CAJD,MAKK,IAAID,EAAE,IAAIjB,MAAV,EAAkB;QACnBI,OAAO,CAACc,EAAD,CAAP;MACH;IACJ,CATD;IAUA,OAAO,MAAM;MACTrB,iBAAiB,CAACkB,cAAlB,CAAiCL,UAAjC;MACAb,iBAAiB,CAACmB,gBAAlB,CAAmCN,UAAnC;IACH,CAHD;EAIH,CAnBQ,EAmBN,EAnBM,CAAT;EAqBA,oBAAQ,oBAAC,IAAD,qBACJ,oBAAC,KAAD;IAAO,MAAM,EAAEL,oBAAoB;EAAnC,EADI,CAAR;AAGH"}