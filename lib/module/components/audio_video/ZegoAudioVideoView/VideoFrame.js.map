{"version":3,"names":["React","useEffect","useRef","findNodeHandle","View","StyleSheet","ZegoTextureView","ZegoUIKitInternal","VideoFrame","props","userID","roomID","fillMode","viewRef","updateRenderingProperty","viewID","current","onSDKConnected","onUserJoin","userInfoList","forEach","user","styles","container","videoContainer","audioContainer","children","create","flex","width","height","position","top","left","zIndex"],"sources":["VideoFrame.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { findNodeHandle, View, StyleSheet } from \"react-native\";\nimport { ZegoTextureView } from 'zego-express-engine-reactnative';\nimport ZegoUIKitInternal from \"../../internal/ZegoUIKitInternal\";\n\nexport default function VideoFrame(props) {\n    const { userID, roomID, fillMode } = props;\n    const viewRef = useRef(null);\n\n    const updateRenderingProperty = () => {\n        const viewID = findNodeHandle(viewRef.current);\n        ZegoUIKitInternal.updateRenderingProperty(userID, viewID, fillMode);\n    }\n    useEffect(() => {\n        updateRenderingProperty();\n\n        ZegoUIKitInternal.onSDKConnected('VideoFrame' + userID, () => {\n            updateRenderingProperty();\n        });\n        ZegoUIKitInternal.onUserJoin('VideoFrame' + userID, (userInfoList) => {\n            userInfoList.forEach(user => {\n                if (user.userID == userID) {\n                    updateRenderingProperty()\n                }\n            })\n        });\n        return () => {\n            ZegoUIKitInternal.onSDKConnected('VideoFrame' + userID);\n            ZegoUIKitInternal.onUserJoin('VideoFrame' + userID);\n            ZegoUIKitInternal.updateRenderingProperty(userID, -1, fillMode);\n        }\n    }, []);\n\n    return (\n        <View style={styles.container}>\n            <ZegoTextureView\n                style={styles.videoContainer}\n                ref={viewRef}\n                collapsable={false}\n            />\n            <View style={styles.audioContainer}>\n                {props.children}\n            </View>\n        </View>\n    );\n}\n\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n    },\n    videoContainer: {\n        // flex: 1,\n        width: '100%',\n        height: '100%',\n        top: 0,\n        left: 0,\n        position: 'absolute',\n        zIndex: 1,\n    },\n    audioContainer: {\n        width: '100%',\n        height: '100%',\n        top: 0,\n        left: 0,\n        position: 'absolute',\n        zIndex: 2,\n    }\n});"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,cAAT,EAAyBC,IAAzB,EAA+BC,UAA/B,QAAiD,cAAjD;AACA,SAASC,eAAT,QAAgC,iCAAhC;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AAEA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA2B;EACtC,MAAM;IAAEC,MAAF;IAAUC,MAAV;IAAkBC;EAAlB,IAA+BH,KAArC;EACA,MAAMI,OAAO,GAAGX,MAAM,CAAC,IAAD,CAAtB;;EAEA,MAAMY,uBAAuB,GAAG,MAAM;IAClC,MAAMC,MAAM,GAAGZ,cAAc,CAACU,OAAO,CAACG,OAAT,CAA7B;IACAT,iBAAiB,CAACO,uBAAlB,CAA0CJ,MAA1C,EAAkDK,MAAlD,EAA0DH,QAA1D;EACH,CAHD;;EAIAX,SAAS,CAAC,MAAM;IACZa,uBAAuB;IAEvBP,iBAAiB,CAACU,cAAlB,CAAiC,eAAeP,MAAhD,EAAwD,MAAM;MAC1DI,uBAAuB;IAC1B,CAFD;IAGAP,iBAAiB,CAACW,UAAlB,CAA6B,eAAeR,MAA5C,EAAqDS,YAAD,IAAkB;MAClEA,YAAY,CAACC,OAAb,CAAqBC,IAAI,IAAI;QACzB,IAAIA,IAAI,CAACX,MAAL,IAAeA,MAAnB,EAA2B;UACvBI,uBAAuB;QAC1B;MACJ,CAJD;IAKH,CAND;IAOA,OAAO,MAAM;MACTP,iBAAiB,CAACU,cAAlB,CAAiC,eAAeP,MAAhD;MACAH,iBAAiB,CAACW,UAAlB,CAA6B,eAAeR,MAA5C;MACAH,iBAAiB,CAACO,uBAAlB,CAA0CJ,MAA1C,EAAkD,CAAC,CAAnD,EAAsDE,QAAtD;IACH,CAJD;EAKH,CAlBQ,EAkBN,EAlBM,CAAT;EAoBA,oBACI,oBAAC,IAAD;IAAM,KAAK,EAAEU,MAAM,CAACC;EAApB,gBACI,oBAAC,eAAD;IACI,KAAK,EAAED,MAAM,CAACE,cADlB;IAEI,GAAG,EAAEX,OAFT;IAGI,WAAW,EAAE;EAHjB,EADJ,eAMI,oBAAC,IAAD;IAAM,KAAK,EAAES,MAAM,CAACG;EAApB,GACKhB,KAAK,CAACiB,QADX,CANJ,CADJ;AAYH;AAGD,MAAMJ,MAAM,GAAGjB,UAAU,CAACsB,MAAX,CAAkB;EAC7BJ,SAAS,EAAE;IACPK,IAAI,EAAE,CADC;IAEPC,KAAK,EAAE,MAFA;IAGPC,MAAM,EAAE,MAHD;IAIPC,QAAQ,EAAE;EAJH,CADkB;EAO7BP,cAAc,EAAE;IACZ;IACAK,KAAK,EAAE,MAFK;IAGZC,MAAM,EAAE,MAHI;IAIZE,GAAG,EAAE,CAJO;IAKZC,IAAI,EAAE,CALM;IAMZF,QAAQ,EAAE,UANE;IAOZG,MAAM,EAAE;EAPI,CAPa;EAgB7BT,cAAc,EAAE;IACZI,KAAK,EAAE,MADK;IAEZC,MAAM,EAAE,MAFI;IAGZE,GAAG,EAAE,CAHO;IAIZC,IAAI,EAAE,CAJM;IAKZF,QAAQ,EAAE,UALE;IAMZG,MAAM,EAAE;EANI;AAhBa,CAAlB,CAAf"}