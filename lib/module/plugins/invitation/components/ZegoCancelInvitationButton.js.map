{"version":3,"names":["React","Fragment","Text","Image","TouchableOpacity","StyleSheet","ZegoUIKitInvitationService","zloginfo","zlogerror","ZegoCancelInvitationButton","props","icon","text","invitees","data","onPressed","onWillPressed","backgroundColor","fontSize","color","width","height","borderRadius","verticalLayout","getImageSourceByPath","require","getRenderView","renderView","undefined","getCustomTextStyle","marginRight","create","getCustomContainerStyle","customContainer","flexDirection","onButtonPress","canCancelInvitation","cancelInvitation","then","code","message","errorInvitees","length","inviteesBackup","JSON","parse","stringify","forEach","errorInviteeID","index","findIndex","inviteeID","splice","catch","styles","container","alignItems","justifyContent"],"sources":["ZegoCancelInvitationButton.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport { Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport ZegoUIKitInvitationService from '../services';\nimport { zloginfo, zlogerror } from '../../../utils/logger';\n\nexport default function ZegoCancelInvitationButton(props) {\n  const {\n    icon,\n    text,\n    invitees = [],\n    data,\n    onPressed,\n    onWillPressed,\n    backgroundColor = '#FF4A50',\n    fontSize = 16,\n    color = '#FFFFFF',\n    width = 60,\n    height = 60,\n    borderRadius = 1000,\n    verticalLayout, // Default row layout, no layout parameters default to precedence icon\n  } = props;\n  const getImageSourceByPath = () => {\n    return require('../resources/button_call_cancel.png');\n  };\n  const getRenderView = () => {\n    let renderView;\n    if (verticalLayout === undefined) {\n      // Choose between icon and text\n      if (icon) {\n        renderView = <Image resizeMode=\"contain\" source={icon} />;\n      } else {\n        if (!text) {\n          renderView = (\n            <Image resizeMode=\"contain\" source={getImageSourceByPath()} />\n          );\n        } else {\n          renderView = <Text style={getCustomTextStyle(fontSize, color).text}>{text}</Text>;\n        }\n      }\n    } else {\n      // Both icon and text exist\n      renderView = <Fragment>\n        <Image resizeMode=\"contain\" source={icon || getImageSourceByPath()} style={{marginRight: 6}}/>\n        <Text style={getCustomTextStyle(fontSize, color).text}>{text}</Text>\n      </Fragment>\n    }\n    return renderView;\n  };\n  const getCustomTextStyle = (fontSize, color) => StyleSheet.create({\n    text: {\n      fontSize,\n      color,\n    },\n  });\n  const getCustomContainerStyle = (width, height, borderRadius, backgroundColor, verticalLayout) => StyleSheet.create({\n    customContainer: {\n      flexDirection: verticalLayout ? 'column' : 'row',\n      width,\n      height,\n      backgroundColor,\n      borderRadius,\n    },\n  });\n\n  const onButtonPress = () => {\n    const canCancelInvitation = typeof onWillPressed === 'function' ? onWillPressed() : true;\n    if (!canCancelInvitation) return;\n    zloginfo(\n      `[Components]Cancel invitation start, invitees: ${invitees}, data: ${data}`\n    );\n    ZegoUIKitInvitationService.cancelInvitation(invitees, data)\n      .then(({ code, message, errorInvitees }) => {\n        zloginfo(\n          `[Components]Cancel invitation success, errorInvitees: ${errorInvitees}`\n        );\n        if (invitees.length > errorInvitees.length) {\n          if (typeof onPressed === 'function') {\n            const inviteesBackup = JSON.parse(JSON.stringify(invitees));\n            errorInvitees.forEach((errorInviteeID) => {\n              const index = inviteesBackup.findIndex(\n                (inviteeID) => errorInviteeID === inviteeID\n              );\n              index !== -1 && inviteesBackup.splice(index, 1);\n            });\n            onPressed({\n              invitees: inviteesBackup,\n            });\n          }\n        }\n      })\n      .catch(({ code, message }) => {\n        zlogerror(\n          `[Components]Cancel invitation error, code: ${code}, message: ${message}`\n        );\n      });\n  };\n  return (\n    <TouchableOpacity\n      style={[\n        styles.container,\n        getCustomContainerStyle(width, height, borderRadius, backgroundColor, verticalLayout).customContainer\n      ]}\n      onPress={onButtonPress}\n    >\n      {getRenderView()}\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"],"mappings":"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"}